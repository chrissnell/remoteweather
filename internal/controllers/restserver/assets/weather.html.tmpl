<!DOCTYPE html>
<html data-wf-page="weather" data-wf-site="weather-station">
<head>
  <meta charset="utf-8">
  <title>{{ .StationName }} - Weather Station</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/weather.css" rel="stylesheet" type="text/css">
  
  <!-- Fonts -->
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
  <script>WebFont.load({  google: {    families: ["Roboto:300,400,500,700:latin,latin-ext","Inconsolata:400,700:latin,latin-ext"]  }});</script>
  
  <!-- Chart libraries -->
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <script src="https://code.highcharts.com/modules/vector.js"></script>
  
  <!-- Time library -->
  <script src="js/moment.min.js"></script>
  
  <!-- Weather JavaScript -->
  <script src="js/weather.js"></script>
</head>
<body class="weather-body">
  
  <!-- Compact Header -->
  <div class="weather-header">
    <div class="weather-container">
      <div class="header-content">
        <h1 class="station-name">{{ .StationName }}</h1>
        <div class="header-status">
          <div class="live-indicator" id="live-indicator">●</div>
          <div class="last-update" id="last-update">Updated just now</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Weather Dashboard -->
  <div class="weather-main">
    <div class="weather-container">
      
      <!-- Consolidated Metric Groups -->
      <div class="metric-groups">
        
        <!-- Temperature & Atmospheric Group -->
        <div class="metric-group">
          <div class="group-title">TEMPERATURE & ATMOSPHERIC</div>
          <div class="group-metrics">
            <div class="metric-item">
              <div class="metric-label">Temperature</div>
              <div class="metric-value large" id="temperature">--</div><span class="metric-unit">°F</span>
            </div>
            <div class="metric-item">
              <div class="metric-label">Feels Like</div>
              <div class="metric-value" id="feels-like">--</div><span class="metric-unit">°F</span>
            </div>
            <div class="metric-item">
              <div class="metric-label">Humidity</div>
              <div class="metric-value" id="humidity">--</div><span class="metric-unit">%</span>
            </div>
            <div class="metric-item">
              <div class="metric-label">Dew Point</div>
              <div class="metric-value" id="dew-point">--</div><span class="metric-unit">°F</span>
            </div>
            <div class="metric-item">
              <div class="metric-label">Barometer</div>
              <div class="metric-value" id="barometer">--</div><span class="metric-unit">inHg</span>
            </div>
            <div class="metric-item">
              <div class="metric-label">Solar Radiation</div>
              <div class="metric-value" id="solar">--</div><span class="metric-unit">W/m²</span>
            </div>
            <div class="metric-item span-two">
              <div class="metric-label">Sky Conditions</div>
              <div class="metric-value" id="sky-conditions">--</div>
            </div>
          </div>
        </div>
        
        <!-- Wind Group -->
        <div class="metric-group">
          <div class="group-title">WIND</div>
          <div class="group-metrics wind-group">
            <div class="metric-item">
              <div class="metric-label">Speed</div>
              <div class="metric-value large" id="wind-speed">--</div><span class="metric-unit">MPH</span>
              <div class="metric-sub">Gusts: <span id="wind-gusts">--</span> MPH</div>
            </div>
            <div class="metric-item">
              <div class="metric-label">Direction</div>
              <div class="metric-value" id="wind-direction">--</div>
              <div class="metric-sub" id="wind-degrees">(--°)</div>
            </div>
            <div class="windrosecontainer">
              <div class="windrose-box measurement-part">
                <div class="div-block-3">
                  <div id="rdg-winddir-cardinal" class="wind-cardinal-dir">---</div>
                  <div id="rdg-windspeed" class="wind-speed">--</div>
                  <div class="windrose-box-container">
                    <div id="rdg-winddir" class="windrose-circle">
                      <div class="windrose-arrow"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Precipitation & Station Group -->
        <div class="metric-group">
          <div class="group-title">PRECIPITATION & STATION</div>
          <div class="group-metrics">
            <div class="metric-item">
              <div class="metric-label">Today's Rain</div>
              <div class="metric-value" id="rain-today">--</div><span class="metric-unit">in</span>
            </div>
            <div class="metric-item">
              <div class="metric-label">Rain Rate</div>
              <div class="metric-value" id="rain-rate">--</div><span class="metric-unit">in/hr</span>
            </div>
            <div class="metric-item">
              <div class="metric-label">Battery</div>
              <div class="metric-value" id="battery">--</div><span class="metric-unit">V</span>
            </div>
            <div class="metric-item">
              <div class="metric-label">Battery Status</div>
              <div class="metric-value" id="battery-status">--</div>
            </div>
          </div>
        </div>
        
      </div>
      
      <!-- Snow Gauge -->
      {{ if .SnowEnabled }}
      <div class="metric-group span-full">
        <div class="metric-group-header">
          <h2>Snow Gauge</h2>
        </div>
        <div class="metric-group-content">
          <div class="metric-item">
            <div class="metric-label">Snow Depth</div>
            <div class="metric-value" id="snow-depth">--</div><span class="metric-unit">in</span>
          </div>
          <div class="metric-item">
            <div class="metric-label">Snow 24hr</div>
            <div class="metric-value" id="snow-24hr">--</div><span class="metric-unit">in</span>
          </div>
          <div class="metric-item">
            <div class="metric-label">72 Hour Snowfall</div>
            <div class="metric-value" id="snow-72hr">--</div><span class="metric-unit">in</span>
          </div>
          <div class="metric-item">
            <div class="metric-label">Storm Total</div>
            <div class="metric-value" id="snow-storm-total">--</div><span class="metric-unit">in</span>
          </div>
          <div class="metric-item">
            <div class="metric-label">Accumulation Rate</div>
            <div class="metric-value" id="snow-accumulation-rate">--</div><span class="metric-unit">in/hr</span>
          </div>
        </div>
      </div>
      {{ end }}
      
      <!-- Charts Section -->
      <div class="charts-section">
        <div class="section-title">Historical Data</div>
        
        <div class="chart-controls">
          <div class="chart-tabs">
            <button class="chart-tab active" data-range="24h" id="tab-24h">24h</button>
            <button class="chart-tab" data-range="72h" id="tab-72h">72h</button>
            <button class="chart-tab" data-range="7d" id="tab-7d">7d</button>
            <button class="chart-tab" data-range="30d" id="tab-30d">30d</button>
            <button class="chart-tab" data-range="1y" id="tab-1y">1y</button>
          </div>
        </div>
        
        <!-- Chart containers for each time range -->
        <div class="charts-container">
          <!-- 24 Hour Charts -->
          <div class="chart-range-container" id="charts-24h">
            <div class="chart-wrapper">
              <div class="chart-title">Temperature</div>
              <div class="chart-container" id="temperatureChart24h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Speed</div>
              <div class="chart-container" id="windspeedChart24h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Direction</div>
              <div class="chart-container" id="winddirectionChart24h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Humidity</div>
              <div class="chart-container" id="humidityChart24h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Barometer</div>
              <div class="chart-container" id="barometerChart24h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Rainfall</div>
              <div class="chart-container" id="rainfallChart24h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Solar Radiation</div>
              <div class="chart-container" id="solarChart24h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Battery Voltage</div>
              <div class="chart-container" id="voltageChart24h"></div>
            </div>
            {{ if .SnowEnabled }}
            <div class="chart-wrapper">
              <div class="chart-title">Snow Depth</div>
              <div class="chart-container" id="snowChart24h"></div>
            </div>
            {{ end }}
          </div>
          
          <!-- 72 Hour Charts -->
          <div class="chart-range-container" id="charts-72h" style="display: none;">
            <div class="chart-wrapper">
              <div class="chart-title">Temperature</div>
              <div class="chart-container" id="temperatureChart72h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Speed</div>
              <div class="chart-container" id="windspeedChart72h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Direction</div>
              <div class="chart-container" id="winddirectionChart72h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Humidity</div>
              <div class="chart-container" id="humidityChart72h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Barometer</div>
              <div class="chart-container" id="barometerChart72h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Rainfall</div>
              <div class="chart-container" id="rainfallChart72h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Solar Radiation</div>
              <div class="chart-container" id="solarChart72h"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Battery Voltage</div>
              <div class="chart-container" id="voltageChart72h"></div>
            </div>
            {{ if .SnowEnabled }}
            <div class="chart-wrapper">
              <div class="chart-title">Snow Depth</div>
              <div class="chart-container" id="snowChart72h"></div>
            </div>
            {{ end }}
          </div>
          
          <!-- 7 Day Charts -->
          <div class="chart-range-container" id="charts-7d" style="display: none;">
            <div class="chart-wrapper">
              <div class="chart-title">Temperature</div>
              <div class="chart-container" id="temperatureChart7d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Speed</div>
              <div class="chart-container" id="windspeedChart7d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Direction</div>
              <div class="chart-container" id="winddirectionChart7d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Humidity</div>
              <div class="chart-container" id="humidityChart7d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Barometer</div>
              <div class="chart-container" id="barometerChart7d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Rainfall</div>
              <div class="chart-container" id="rainfallChart7d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Solar Radiation</div>
              <div class="chart-container" id="solarChart7d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Battery Voltage</div>
              <div class="chart-container" id="voltageChart7d"></div>
            </div>
            {{ if .SnowEnabled }}
            <div class="chart-wrapper">
              <div class="chart-title">Snow Depth</div>
              <div class="chart-container" id="snowChart7d"></div>
            </div>
            {{ end }}
          </div>
          
          <!-- 30 Day Charts -->
          <div class="chart-range-container" id="charts-30d" style="display: none;">
            <div class="chart-wrapper">
              <div class="chart-title">Temperature</div>
              <div class="chart-container" id="temperatureChart30d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Speed</div>
              <div class="chart-container" id="windspeedChart30d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Direction</div>
              <div class="chart-container" id="winddirectionChart30d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Humidity</div>
              <div class="chart-container" id="humidityChart30d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Barometer</div>
              <div class="chart-container" id="barometerChart30d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Rainfall</div>
              <div class="chart-container" id="rainfallChart30d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Solar Radiation</div>
              <div class="chart-container" id="solarChart30d"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Battery Voltage</div>
              <div class="chart-container" id="voltageChart30d"></div>
            </div>
            {{ if .SnowEnabled }}
            <div class="chart-wrapper">
              <div class="chart-title">Snow Depth</div>
              <div class="chart-container" id="snowChart30d"></div>
            </div>
            {{ end }}
          </div>
          
          <!-- 1 Year Charts -->
          <div class="chart-range-container" id="charts-1y" style="display: none;">
            <div class="chart-wrapper">
              <div class="chart-title">Temperature</div>
              <div class="chart-container" id="temperatureChart1y"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Speed</div>
              <div class="chart-container" id="windspeedChart1y"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Wind Direction</div>
              <div class="chart-container" id="winddirectionChart1y"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Humidity</div>
              <div class="chart-container" id="humidityChart1y"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Barometer</div>
              <div class="chart-container" id="barometerChart1y"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Rainfall</div>
              <div class="chart-container" id="rainfallChart1y"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Solar Radiation</div>
              <div class="chart-container" id="solarChart1y"></div>
            </div>
            <div class="chart-wrapper">
              <div class="chart-title">Battery Voltage</div>
              <div class="chart-container" id="voltageChart1y"></div>
            </div>
            {{ if .SnowEnabled }}
            <div class="chart-wrapper">
              <div class="chart-title">Snow Depth</div>
              <div class="chart-container" id="snowChart1y"></div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>
      
    </div>
  </div>
  
</body>
</html> 